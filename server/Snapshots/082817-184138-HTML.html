<body style="">
    <div class="maincontainer">
        <!--topheader-->
        <div class="headertop">
            <!-- mainmenu -->
            <!--logo-->
            <div class="menucontainer">
                <div style="float:left" id="menubtn">
                            <img src="/Content/images/menuicon_06.png" style="width:18pt; margin-top:6px; margin-left:6px;">                        
                </div>


                <div style="float:left">
                        <img src="/Content/images/Go Easy - Blue and White.png" style="height:30px; margin-left:6px;margin-top:3px;">
                </div>

                <div class="adminmenubox">

            <div class="adminmenuinner">
                <div class="menuheader">Admin</div>
                <ul>
                                <li>
                                    <a href="/Dashboard">
                                        <div class="menuicons">
                                            <div class="icons dashboard">
                                            </div>
                                            <div class="menuname">
                                                Dashboard
                                            </div>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="/Routing">
                                        <div class="menuicons">
                                            <div class="icons usercheck">
                                            </div>
                                            <div class="menuname">
                                                Cab Routing
                                            </div>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="/VehicleAllocation">
                                        <div class="menuicons">
                                            <div class="icons vehicleallocation">
                                            </div>
                                            <div class="menuname">
                                                Vehicle Allocation
                                            </div>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="/TripReconcilation">
                                        <div class="menuicons">
                                            <div class="icons listapproval">
                                            </div>
                                            <div class="menuname">
                                                Trip Reconciliation
                                            </div>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="/TransportList ">
                                        <div class="menuicons">
                                            <div class="icons list">
                                            </div>
                                            <div class="menuname">
                                                Transport List
                                            </div>
                                        </div>
                                    </a>
                                </li>

                    <div class="clear"></div>
                </ul>

            </div>
            <div class="adminmenuinner">
                <div class="menuheader">Masters</div>
                <ul>
                                <li>
                                    <a href="/VendorMaster">
                                        <div class="menuicons">
                                            <div class="icons group">
                                            </div>
                                            <div class="menuname">
                                                Vendors
                                            </div>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="/DriverMaster">
                                        <div class="menuicons">
                                            <div class="icons driver">
                                            </div>
                                            <div class="menuname">
                                                Drivers
                                            </div>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="/VehicleTypeMaster">
                                        <div class="menuicons">
                                            <div class="icons cars">
                                            </div>
                                            <div class="menuname">
                                                Vehicle Type
                                            </div>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="/VehicleDetailsMaster">
                                        <div class="menuicons">
                                            <div class="icons cabdetails">
                                            </div>
                                            <div class="menuname">
                                                Vehicle Details
                                            </div>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="/FuelMaster">
                                        <div class="menuicons">
                                            <div class="icons cartime">
                                            </div>
                                            <div class="menuname">
                                                FuelMaster
                                            </div>
                                        </div>
                                    </a>
                                </li>

                    <div class="clear"></div>
                </ul>

            </div>
            <div class="adminmenuinner">
                <div class="menuheader">Reports</div>
                <ul>
                                <li>
                                    <a href="/TripDetailsReport">
                                        <div class="menuicons">
                                            <div class="icons tripreport">
                                            </div>
                                            <div class="menuname">
                                                Trip Details
                                            </div>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="/TripDetailsReport/TransportSurveyReport">
                                        <div class="menuicons">
                                            <div class="icons survey">
                                            </div>
                                            <div class="menuname">
                                                Feedback Survey
                                            </div>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="/TripDetailsReport/DriverLicenseExpiryReport">
                                        <div class="menuicons">
                                            <div class="icons license">
                                            </div>
                                            <div class="menuname">
                                                License Expiry
                                            </div>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="/TripDetailsReport/TransportInsuranceExpiryReport">
                                        <div class="menuicons">
                                            <div class="icons insurance">
                                            </div>
                                            <div class="menuname">
                                                Insurance Expiry
                                            </div>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="/TripDetailsReport/MISReport">
                                        <div class="menuicons">
                                            <div class="icons license">
                                            </div>
                                            <div class="menuname">
                                                MIS Report
                                            </div>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="/TripDetailsReport/CabUserReport">
                                        <div class="menuicons">
                                            <div class="icons tripreport">
                                            </div>
                                            <div class="menuname">
                                                Cab Users Report
                                            </div>
                                        </div>
                                    </a>
                                </li>

                    <div class="clear"></div>
                </ul>

            </div>
            <div class="adminmenuinner">
                <div class="menuheader">Security</div>
                <ul>
                        <li>
                                    <a href="http://gssnte813:82/RolesManagementTest/Masterdata/UserManagement/?token=LqBScb5Fc12uDgq50KmbEetrvqBUCl%2FG0q4xT8ohXz1HqfChzcEHBQ%3D%3D" target="_blank">
                                        <div class="menuicons">
                                            <div class="icons usercheck2">
                                            </div>
                                            <div class="menuname">
                                                User Management
                                            </div>
                                        </div>
                                    </a>
                                </li>

                    <div class="clear"></div>
                </ul>

            </div>

                                                        </div>

                                                    </div>

            <div class="appname">
                
            </div>
            <!--end logo-->
            <!--usercontainer-->
            <div class="usercontainer" id="usersetting">
                <div class="userinfo">
                    Magesh Babu S
                </div>
                <div class="fright">
                    <img src="/Content/images/usericon_03.png" style="width:24px; margin-top:5px; margin-left:5px;">
                </div>
                <div class="clear"></div>
            </div>
            
            <!--end usercontainer-->
            <div class="clear"></div>
        </div>
        <!--end topheader-->
        



<style>
    /* centered columns styles */
    .row-centered {
        text-align: center;
    }

    .col-centered {
        display: inline-block;
        float: none;
        /* reset the text-align */
        text-align: left;
        /* inline-block space fix */
        margin-right: -4px;
    }

    .col-fixed {
        /* custom width */
        width: 700px;
    }

    .col-min {
        /* custom min width */
        min-width: 700px;
    }

    .col-max {
        /* custom max width */
        max-width: 1100px;
    }

        .modal {
  text-align: center;
  padding: 0!important;
}

.modal:before {
  content: '';
  display: inline-block;
  height: 100%;
  vertical-align: middle;
  margin-right: -4px;
}

.modal-dialog {
  display: inline-block;
  text-align: left;
  vertical-align: middle;
}

.PopUp {
    z-index:999;
    }

.PopUp-focus {
    z-index:1000;
    }

/*#CancelTransportGrid td:nth-child(4),
#CancelTransportGrid th:nth-child(4)
{
    text-align : center;
}*/

</style>

<script src="/Scripts/moment.js"></script>
<script src="/Scripts/DataTables/jquery.dataTables.js"></script>
<script src="/Scripts/DataTables/dataTables.bootstrap.js"></script>
<script src="/Scripts/DataTables/buttons.colVis.js"></script>
<script src="/Scripts/DataTables/buttons.colVis.min.js"></script>
<script src="/Scripts/DataTables/buttons.html5.js"></script>
<script src="/Scripts/DataTables/buttons.html5.min.js"></script>
<script src="/Scripts/DataTables/buttons.print.js"></script>
<script src="/Scripts/DataTables/buttons.print.min.js"></script>
<script src="/Scripts/DataTables/dataTables.buttons.js"></script>
<script src="/Scripts/DataTables/dataTables.buttons.min.js"></script>


<script type="text/javascript">
    var cancelRequestpageData = null;
    var requestForDetails = null;
    var cancelTripDetails = null;
    var start = null;
    var end = null;
    var pageLoad = false;
    var CancelButtonData = null;
    var resetflag = false;
    var globalShiftStart = null;
    var second_globalShiftStart = null;
    var global_ReqFor = null;
    var global_ReqFor_secondGrid = null;
    var g_RequetFor = null;
    var g_RequestType = null;
    var g_ShiftTime = null;
    var g_date = null;
    var noShowDetails = null;
    var month_NoshowFlag = false;


    var month_FromDate = null;
    var month_ToDate = null;

    $('#regularfromdate').datepicker();
    $('#regulartodate').datepicker();

    var date = new Date();
    var day = date.getDate();
    var month = date.getMonth() + 1;
    var year = date.getFullYear();
    var todaysdate = month + "/" + day + "/" + year;

    var generatedDates = [];

    $(document).ready(function () {
        month_NoshowFlag = true;
        $("#date_month").datepicker({
            format: "M-yyyy",
            startView: "months",
            minViewMode: "months"
        });

        $('#date_month').datepicker('setDate', date);

        $("#LoadingImage").show();
        $.ajaxSetup({ async: true })
        $.ajaxSetup({ cache: false })
        $.ajax({
            url: '/CancelTransportRequest/GetMyTripsDets',
            type: 'GET',
            async: true,
            data: { "todaysdate": todaysdate },
            success: function (data) {

                cancelRequestpageData = data.CancelTransportDetails;
                requestForDetails = data.RequestForDetails;
                cancelTripDetails = data.CancelMyTripDetails;
                loadMyTrips();
                $("#LoadingImage").hide();
            },
        });

        


        function loadMyTrips() {

            if (cancelRequestpageData != null) {
                for (var i = 0; i < cancelRequestpageData.length; i++) {
                    //start = moment(cancelRequestpageData[i].FromDate);
                    //end = moment(cancelRequestpageData[i].ToDate);

                    //var s = new Date(start._d - 0);
                    //var e = new Date(end._d - 0);

                    var today = new Date();
                    var offset = today.getTimezoneOffset();

                    var s = new Date(cancelRequestpageData[i].FromDateString);
                    var userTimezoneOffset = s.getTimezoneOffset() * 60000;
                    s = new Date(s.getTime() + userTimezoneOffset);

                    s = new Date(s - (offset * 60000));

                    var e = new Date(cancelRequestpageData[i].ToDateString);
                    var userTimezoneOffset = e.getTimezoneOffset() * 60000;
                    e = new Date(e.getTime() + userTimezoneOffset);

                    e = new Date(e - (offset * 60000));

                    if (s == "Invalid Date" && e == "Invalid Date") {
                        var a = {};
                        a.cabReqID = cancelRequestpageData[i].CabRequestID;
                        a.ReqType = cancelRequestpageData[i].RequestTypeName;
                        a.Date = null;
                        a.ReqFor = cancelRequestpageData[i].RequestForName;
                        a.ReqTypeID = cancelRequestpageData[i].RequestTypeID;
                        a.ReqForID = cancelRequestpageData[i].RequestForID;
                        a.ShiftStart = cancelRequestpageData[i].ShiftStartTime;
                        a.ShiftEnd = cancelRequestpageData[i].ShiftEndTime;
                        a.longShiftStart = cancelRequestpageData[i].longShiftStartTimeString;
                        a.longShiftEnd = cancelRequestpageData[i].longShiftEndTimeString;
                        a.shiftForGrid = cancelRequestpageData[i].shiftForGrid;
                        generatedDates.push(a);
                    }
                    var todayDatums = new Date();
                    todayDatums.setHours(0);
                    todayDatums.setMinutes(0);
                    todayDatums.setSeconds(0);
                    todayDatums.setMilliseconds(0);


                    var userTimezoneOffset = todayDatums.getTimezoneOffset() * 60000;
                    todayDatums = new Date(todayDatums.getTime() + userTimezoneOffset);
                    var today_Differ = new Date();
                    var offset = today_Differ.getTimezoneOffset();
                    todayDatums = new Date(todayDatums - (offset * 60000));
                    //todayDatums.setDate(14);

                    while (s <= e) {
                        var a = {};
                        a.cabReqID = cancelRequestpageData[i].CabRequestID;
                        a.ReqType = cancelRequestpageData[i].RequestTypeName;
                        a.Date = new Date(+s);
                        a.ReqFor = cancelRequestpageData[i].RequestForName;
                        a.ReqTypeID = cancelRequestpageData[i].RequestTypeID;
                        a.ReqForID = cancelRequestpageData[i].RequestForID;
                        a.ShiftStart = cancelRequestpageData[i].ShiftStartTime;
                        a.ShiftEnd = cancelRequestpageData[i].ShiftEndTime;
                        a.longShiftStart = cancelRequestpageData[i].longShiftStartTimeString;
                        a.longShiftEnd = cancelRequestpageData[i].longShiftEndTimeString;
                        a.shiftForGrid = cancelRequestpageData[i].shiftForGrid;

                        var shiftTime = new Date(a.Date);
                        var userTimezoneOffset = shiftTime.getTimezoneOffset() * 60000;
                        shiftTime = new Date(shiftTime.getTime() + userTimezoneOffset);
                        var today_Diff = new Date();
                        var offset = today_Diff.getTimezoneOffset();
                        shiftTime = new Date(shiftTime - (offset * 60000));

                        if (shiftTime >= todayDatums)
                            generatedDates.push(a);
                        s = new Date(s.setDate(
                            s.getDate() + 1
                        ))
                    }
                }

                var secondgrid = null;
                var firstgrid = null;
                var checkflag = false;

                if (cancelTripDetails != null) {

                    for (var i = 0; i <= generatedDates.length; i++) {

                        if (checkflag == true) {
                            i = 0;
                            checkflag = false;
                        }
                        if (generatedDates.length == i)
                            break;

                        for (var j = 0; j < cancelTripDetails.length; j++) {

                            var today = new Date();
                            var offset = today.getTimezoneOffset();

                            var changeDate = new Date(cancelTripDetails[j].StartDateString);
                            var userTimezoneOffset = changeDate.getTimezoneOffset() * 60000;
                            changeDate = new Date(changeDate.getTime() + userTimezoneOffset);

                            changeDate = new Date(changeDate - (offset * 60000));

                            var formatDate = new Date(generatedDates[i].Date);
                            var userTimezoneOffset = formatDate.getTimezoneOffset() * 60000;
                            formatDate = new Date(formatDate.getTime() + userTimezoneOffset);

                            formatDate = new Date(formatDate - (offset * 60000));

                            //var changeDate = moment(cancelTripDetails[j].StartDate);
                            //var formatDate = moment(generatedDates[i].Date);

                            firstgrid = formatDate.toString();
                            secondgrid = changeDate.toString();

                            var shiftingEnd = moment(generatedDates[i].longShiftEnd);
                            shiftingEnd = shiftingEnd._d;
                            shiftingEnd = shiftingEnd.getDate();

                            if (generatedDates[i].cabReqID == cancelTripDetails[j].CabRequest &&
                               generatedDates[i].ReqType == cancelTripDetails[j].ReqTypeName &&
                               firstgrid == secondgrid) {

                                if (!(cancelTripDetails[j].ReqTypeName == "Month end" && shiftingEnd == 2 && (cancelTripDetails[j].ReqForID == 3) && generatedDates[i].ReqForID == 1)) {

                                    generatedDates.splice(i, 1);
                                    checkflag = true;
                                    if (generatedDates.length == i) {
                                        i = i - 1;
                                        if (i < 0)
                                            break;
                                    }
                                    else if (generatedDates.length == 0)
                                        break;
                                }
                            }
                        }
                    }
                }

                for (var i = 0; i < generatedDates.length; i++) {
                    if (generatedDates[i].ReqType == "Regular") {
                        var a = generatedDates.splice(i, 1);
                        generatedDates.unshift(a[0]);
                        break;
                    }
                }

            }



            $.each(requestForDetails, function (index, value) {
                $('#ddlRequestFor').append('<option value="' + value.RequestForID + '">' + value.RequestForName + '</option>');
            });

            var table = $('#CancelTransportGrid').DataTable({
                "aaSorting": [],
                "aaData": generatedDates,
                "columns": [

                    //{

                    //    "visible": false, "searchable": false, "data" : "cabReqID" ,  "mRender": function (data, type, full) {
                    //        return data;
                    //    }
                    //},
                    //{

                    //    "visible": false, "data" : "ShiftStart" ,  "mRender": function (data, type, full) {


                    //        globalShiftStart = data;
                    //        return data;
                    //    }
                    //},

                    //{

                    //    "visible": false, "searchable": false, "data" : "ReqForID" ,  "mRender": function (data, type, full) {
                    //        global_ReqFor = data;
                    //        return data;
                    //    }
                    //},

                    {
                        "data": "ReqType", "mRender": function (data, type, full) {
                            return data;
                        }
                    },

                    {
                        "data": "Date", "mRender": function (data, type, full) {

                            if (data != null) {
                                //var date = moment(data).format('DD-MMM-YYYY');
                                //return date;
                                var date = moment(data);
                                var today = new Date();
                                var offset = today.getTimezoneOffset();
                                var proddate = new Date(new Date(date._d) - (offset * 60000));
                                var findate = moment(proddate).format('DD-MMM-YYYY');
                                return findate;
                            }
                            else {
                                return "-";
                            }
                        }
                    },
                    {
                        "data": "ReqFor", "mRender": function (data, type, full) {
                            return data;
                        }
                    },
                    {
                        "data": "shiftForGrid", "mRender": function (data, type, full) {

                            //var shiftTime = null;


                            //var shiftend = data;
                            //if(global_ReqFor == 1)
                            //    shiftTime = globalShiftStart + " - " + shiftend;
                            //else if(global_ReqFor == 2)
                            //    shiftTime = globalShiftStart;
                            //else if(global_ReqFor = 3)
                            //    shiftTime = shiftend;
                            //return shiftTime;
                            return data;
                        }
                    },


                    {
                        'targets': 0,
                        'searchable': false,
                        'orderable': false,
                        //'className': 'dt-body-center',
                        'render': function (data, type, full, meta) {
                            return '<div class="iconbutton"><input type="button"  style="padding:3px 10px;" id="cancelButton" value="Cancel"/></div>';

                        }
                    }

                ],
                dom: 'Bfrtip',
                lengthMenu: [
                        [10, 25, 50, 100, -1],
                        ['10', '25', '50', '100', 'Show all']
                ],
                buttons: [
                        'pageLength'
                ]
            });


            var table = $('#CancelledTransportGrid').DataTable({
                "aaSorting": [],
                "aaData": cancelTripDetails,

                "columns": [

                    //{

                    //    "visible": false, "searchable": false, "data" : "CabRequest" ,  "mRender": function (data, type, full) {
                    //        return data;
                    //    }
                    //},

                    //{

                    //    "visible": false, "searchable": false, "data" : "ReqForID" ,  "mRender": function (data, type, full) {
                    //        global_ReqFor_secondGrid = data;
                    //        return data;
                    //    }
                    //},

                    //{

                    //    "visible": false, "data" : "ShiftStart" ,  "mRender": function (data, type, full) {

                    //        second_globalShiftStart = data;
                    //        return data;
                    //    }
                    //},

                    {
                        "data": "ReqTypeName", "mRender": function (data, type, full) {
                            return data;
                        }
                    },

                    {
                        "data": "StartDate", "mRender": function (data, type, full) {

                            if (data != null) {

                                //var date = moment(data).format('DD-MMM-YYYY');
                                var date = moment(data);
                                var today = new Date();
                                var offset = today.getTimezoneOffset();
                                var proddate = new Date(new Date(date._d) - (offset * 60000));
                                var findate = moment(proddate).format('DD-MMM-YYYY');
                                return findate;
                            }
                            else {
                                return "-";
                            }
                        }
                    },

                    {
                        "data": "EndDate", "mRender": function (data, type, full) {

                            if (data != null) {
                                var date = moment(data);
                                var today = new Date();
                                var offset = today.getTimezoneOffset();
                                var proddate = new Date(new Date(date._d) - (offset * 60000));
                                var findate = moment(proddate).format('DD-MMM-YYYY');
                                return findate;
                            }
                            else {
                                return "-";
                            }
                        }
                    },
                    {
                        "data": "shiftForGrid", "mRender": function (data, type, full) {

                            //var shiftTime = null;

                            //var shiftend = data;

                            //if(global_ReqFor_secondGrid == 1)
                            //    shiftTime = second_globalShiftStart + " - " + shiftend;
                            //else if(global_ReqFor_secondGrid == 2)
                            //    shiftTime = second_globalShiftStart;
                            //else if(global_ReqFor_secondGrid = 3)
                            //    shiftTime = shiftend;
                            //return shiftTime;

                            return data;
                        }
                    },

                    {
                        "data": "ReqForName", "mRender": function (data, type, full) {

                            return data;
                        }
                    }//,
                    //{
                    //    "data": "remarks", "mRender": function (data, type, full) {

                    //        return data;
                    //    }
                    //}

                ],
                dom: 'Bfrtip',
                lengthMenu: [
                        [10, 25, 50, 100, -1],
                        ['10', '25', '50', '100', 'Show all']
                ],
                buttons: [
                        'pageLength'
                ]
            });


            $("#menubtn").hover(function () {
                $('.menubox').show();
            });
            $('.menubox').mouseenter(function () {
                $('.menubox').show();
            }).mouseleave(function () {
                $('.menubox').hide();
            });
            $(".menuicons").click(function () {
                $('.menubox').hide();
            });

            $("#usersetting").click(function () {
                $('.settingbox').fadeToggle();
            });
            $(document).on("click", function (event) {
                var $trigger = $('.menubox');
                if ($trigger !== event.target && !$trigger.has(event.target).length) {
                    $('.menubox').hide();
                }
            });



            $(".modal").on("hidden.bs.modal", function () {
                if (resetflag == false) {
                    onRegularClose();
                }
                else {
                    resetflag = false;
                }
            });
        }
    });

    $('body').on( 'click', '#cancelButton', function () {

        var row  = $(this).parents('tr')[0];
        var table = $('#CancelTransportGrid').DataTable();
        var data = table.row( row ).data();
        CancelButtonData = data;

        var date = moment(data.Date);
        var today = new Date();
        var offset = today.getTimezoneOffset();
        var proddate = new Date(new Date(date._d) - (offset * 60000));
        var dateformat = moment(proddate).format('DD-MMM-YYYY');
        g_date = dateformat;
        g_RequestType = data.ReqType;
        g_RequetFor = data.ReqFor;
        g_ShiftTime = data.shiftForGrid;

        //var confirmDate = null;
        //if (data.ReqForID == 1 || data.ReqForID == 2) {
        //    confirmDate = dateformat;
        //}
        //else {
        //    var confirmDato = moment(data.longShiftEnd);
        //    confirmDato = confirmDato._d;
        //    if(confirmDato.getDate() == 2)
        //    {
        //        var prodyDate = proddate;
        //        prodyDate.setDate(prodyDate.getDate() + 1)
        //        confirmDate = moment(prodyDate).format('DD-MMM-YYYY');
        //    }
        //}



        if(data.ReqType == "Regular"){
            $('#regularfromdate').datepicker('setDate', null);
            $('#regulartodate').datepicker('setDate', null);
            $('#regularfromdate').datepicker('setStartDate', null);
            $('#regularfromdate').datepicker('setEndDate', null);
            $('#regulartodate').datepicker('setStartDate', null);
            $('#regulartodate').datepicker('setEndDate', null);

            var date_value = new Date();

            $('#regularfromdate').datepicker('setDate', date_value);
            $('#regulartodate').datepicker('setDate', date_value);

            $('#regularfromdate').datepicker('setStartDate', date_value);
            //$('#regularfromdate').datepicker('setEndDate', regu_end._d);

            $('#regulartodate').datepicker('setStartDate', date_value);
            //$('#regulartodate').datepicker('setEndDate', regu_end._d);

            //document.getElementById("regu_reqfor").value = data.ReqFor;

            return $('#myRegularPopup').modal('show')
        }
        else{
            $('#newmessageinput').empty();
            $('#newmessageinput').append("<b>Do you want to cancel '" + data.ReqFor + "' on '" + dateformat + "' ?</b>")
            return $('#myAlertModal').modal('show')
        }

    } );


    $('body').on('click', '#myBtnSave', function () {

        $("#LoadingImage").show();
        var FromDate_dup = $('#regularfromdate').val();
        var FromDate = new Date(FromDate_dup.replace('-', ' '));

        var ToDate_dup = $('#regulartodate').val();
        var ToDate = new Date(ToDate_dup.replace('-', ' '));

        $('#messageinput').empty();
        if ($("#ddlRequestFor").val() == "") {
            document.getElementById("messageinput").style.color = "red";
            $('#messageinput').append("<b>Please select Request For !</b>" + "<br />")
        }

        if (FromDate > ToDate) {
            document.getElementById("messageinput").style.color = "red";
            $('#messageinput').append("<b>To Date cannot be less than From Date !</b>")
        }

        if ($('#messageinput')[0].childNodes.length != 0) {
            $(".PopUp-focus").removeClass('PopUp-focus').addClass('PopUp');
            $("#myRegularPopup").removeClass('PopUp').addClass('PopUp-focus');
            resetflag = true;
            $("#LoadingImage").hide();
            return $('#myModal').modal('show');
        }
        var gridDate = moment(FromDate).format('DD-MMM-YYYY');
        //gridDate = gridDate._d;
        //gridDate = moment(gridDate).format('DD-MMM-YYYY');
        var todayDati = moment(new Date()).format('DD-MMM-YYYY');

        if (gridDate == todayDati) {
            if ($("#ddlRequestFor").val() == 1 || $("#ddlRequestFor").val() == 2) {

                var shiftTime = new Date(CancelButtonData.longShiftStart);
                var userTimezoneOffset = shiftTime.getTimezoneOffset() * 60000;
                shiftTime = new Date(shiftTime.getTime() + userTimezoneOffset);
                var today = new Date();
                var offset = today.getTimezoneOffset();
                shiftTime = new Date(shiftTime - (offset * 60000));

                var shiftTimeDate = new Date();
                shiftTimeDate.setHours(shiftTime.getHours() - 8);
                shiftTimeDate.setMinutes(shiftTime.getMinutes());
                shiftTimeDate.setSeconds(0);

                var currentDateTime = new Date();

                if (currentDateTime > shiftTimeDate) {

                    $(".PopUp-focus").removeClass('PopUp-focus').addClass('PopUp');
                    $("#myRegularPopup").removeClass('PopUp').addClass('PopUp-focus');
                    resetflag = true;
                    $('#messageinput').empty();
                    $('#messageinput').append("<b>You cannot cancel this request as the trip is already planned. You should be able to cancel the request before 8 hours from the trip scheduled time.</b>" + "<br />");
                    $("#LoadingImage").hide();
                    return $('#myModal').modal('show');
                }
            }
            else {

                var shiftTime = new Date(CancelButtonData.longShiftEnd);
                var userTimezoneOffset = shiftTime.getTimezoneOffset() * 60000;
                shiftTime = new Date(shiftTime.getTime() + userTimezoneOffset);
                var today = new Date();
                var offset = today.getTimezoneOffset();
                shiftTime = new Date(shiftTime - (offset * 60000));


                var shiftTimeDate = new Date();

                //if (shiftTime.getDate() == 2)
                //    shiftTimeDate.setDate(shiftTimeDate.getDate() + 1);

                shiftTimeDate.setHours(shiftTime.getHours() - 3);
                shiftTimeDate.setMinutes(shiftTime.getMinutes());
                shiftTimeDate.setSeconds(0);

                var currentDateTime = new Date();

                if (currentDateTime > shiftTimeDate) {

                    $(".PopUp-focus").removeClass('PopUp-focus').addClass('PopUp');
                    $("#myRegularPopup").removeClass('PopUp').addClass('PopUp-focus');
                    resetflag = true;
                    $('#messageinput').empty();
                    $('#messageinput').append("<b>You cannot cancel this request as the trip is already planned. You should be able to cancel the request before 3 hours from the trip scheduled time.</b>" + "<br />");
                    $("#LoadingImage").hide();
                    return $('#myModal').modal('show');
                }
            }
        }

        var cancelRequestDetails = [];
        var checkbox_value = {};
        checkbox_value.CabRequestID = CancelButtonData.cabReqID;
        checkbox_value.FromDateOpnNoShow = $('#regularfromdate').val();
        checkbox_value.ToDateOpnNoShow = $('#regulartodate').val();
        checkbox_value.RequestForID = $("#ddlRequestFor").val();


        checkbox_value.RequestTypeID = CancelButtonData.ReqTypeID;
        cancelRequestDetails.push(checkbox_value);

        var CancelSaveDetails = {CancelTransSaveDetails:cancelRequestDetails};

        $.ajaxSetup({ async: true })
        $.ajaxSetup({ cache: false })
        $.ajax({
            url: '/CancelTransportRequest/SaveRegularCancelRequests',
            type: 'POST',
            async: true,

            data: {"CancelMyTripDetails":CancelSaveDetails.CancelTransSaveDetails},
            success: function (data) {
                if(data.isSuccess){
                    pageLoad = true;
                    $('#messageinput').empty();
                    document.getElementById("messageinput").style.color = "green";
                    $('#messageinput').append("<b>Request has been cancelled successfully!</b>");
                    $('#myRegularPopup').modal('hide');
                    $("#LoadingImage").hide();
                    return $('#myModal').modal('show');
                }
                else{
                    $('#messageinput').empty();
                    document.getElementById("messageinput").style.color = "red";
                    $('#messageinput').append("<b>You have already cancelled the request(Pickup/Drop) for the specified date!</b>");
                    $('#myRegularPopup').modal('hide');
                    $("#LoadingImage").hide();
                    return $('#myModal').modal('show');
                }

            },
            error: function (XMLHttpRequest, textStatus, errorThrown) {
            }


        } );
    });

    function onRegularClose(){

        $('#regularfromdate').datepicker('setDate', null);
        $('#regulartodate').datepicker('setDate', null);
        $('#regularfromdate').datepicker('setStartDate', null);
        $('#regularfromdate').datepicker('setEndDate', null);
        $('#regulartodate').datepicker('setStartDate', null);
        $('#regulartodate').datepicker('setEndDate', null);

        document.getElementById("ddlRequestFor").value = "";
    }

    $('body').on( 'click', '#myBtnClose', function () {

    });

    $('body').on( 'click', '#myBtnNo', function () {
        return $('#myAlertModal').modal('hide')
    });

    $('body').on( 'click', '#myBtnYes', function () {
        $("#LoadingImage").show();
        var gridDate = moment(CancelButtonData.Date);
        gridDate = gridDate._d;
        gridDate = moment(gridDate).format('DD-MMM-YYYY');
        var todayDati = moment(new Date()).format('DD-MMM-YYYY');

        if (gridDate == todayDati) {
            if (CancelButtonData.ReqForID == 1 || CancelButtonData.ReqForID == 2) {


                var shiftTime = new Date(CancelButtonData.longShiftStart);
                var userTimezoneOffset = shiftTime.getTimezoneOffset() * 60000;
                shiftTime = new Date(shiftTime.getTime() + userTimezoneOffset);
                var today = new Date();
                var offset = today.getTimezoneOffset();
                shiftTime = new Date(shiftTime - (offset * 60000));

                var shiftTimeDate = new Date();
                shiftTimeDate.setHours(shiftTime.getHours() - 8);
                shiftTimeDate.setMinutes(shiftTime.getMinutes());
                shiftTimeDate.setSeconds(0);

                var currentDateTime = new Date();

                if (currentDateTime > shiftTimeDate) {

                    $(".PopUp-focus").removeClass('PopUp-focus').addClass('PopUp');
                    $("#myRegularPopup").removeClass('PopUp').addClass('PopUp-focus');
                    resetflag = true;
                    $('#messageinput').empty();
                    $('#messageinput').append("<b>You cannot cancel this request as the trip is already planned. You should be able to cancel the request before 8 hours from the trip scheduled time.</b>" + "<br />");
                    $("#LoadingImage").hide();
                    return $('#myModal').modal('show');
                }
            }
            else {

                var shiftTime = new Date(CancelButtonData.longShiftEnd);
                var userTimezoneOffset = shiftTime.getTimezoneOffset() * 60000;
                shiftTime = new Date(shiftTime.getTime() + userTimezoneOffset);
                var today = new Date();
                var offset = today.getTimezoneOffset();
                shiftTime = new Date(shiftTime - (offset * 60000));


                //var shiftTime = moment(CancelButtonData.longShiftEnd);
                //shiftTime = shiftTime._d;
                var shiftTimeDate = new Date();

                if (shiftTime.getDate() == 2)
                    shiftTimeDate.setDate(shiftTimeDate.getDate() + 1);

                shiftTimeDate.setHours(shiftTime.getHours() - 3);
                shiftTimeDate.setMinutes(shiftTime.getMinutes());
                shiftTimeDate.setSeconds(0);

                var currentDateTime = new Date();

                if (currentDateTime > shiftTimeDate) {

                    $(".PopUp-focus").removeClass('PopUp-focus').addClass('PopUp');
                    $("#myRegularPopup").removeClass('PopUp').addClass('PopUp-focus');
                    resetflag = true;
                    $('#messageinput').empty();
                    $('#messageinput').append("<b>You cannot cancel this request as the trip is already planned. You should be able to cancel the request before 3 hours from the trip scheduled time.</b>" + "<br />");
                    $("#LoadingImage").hide();
                    return $('#myModal').modal('show');
                }
            }
        }

        var cancelRequestDetails = [];
        var checkbox_value = {};

        checkbox_value.CabRequestID = CancelButtonData.cabReqID;
        checkbox_value.CancelDate = CancelButtonData.Date;
        checkbox_value.RequestForID = CancelButtonData.ReqForID;
        checkbox_value.RequestTypeID = CancelButtonData.ReqTypeID;
        checkbox_value.RequestForName = g_RequetFor;
        checkbox_value.FromDate = g_date;
        checkbox_value.ToDate = g_date;
        checkbox_value.shiftForGrid = g_ShiftTime;
        cancelRequestDetails.push(checkbox_value);

        var CancelSaveDetails = {CancelTransSaveDetails:cancelRequestDetails};

        $.ajaxSetup({ async: true })
        $.ajaxSetup({ cache: false })
        $.ajax({
            url: '/CancelTransportRequest/SaveCancelRequests',
            type: 'POST',
            async: true,

            data: {"CancelMyTripDetails":CancelSaveDetails.CancelTransSaveDetails},
            success: function (data) {
                if(data.isSuccess){
                    pageLoad = true;
                    $('#messageinput').empty();
                    document.getElementById("messageinput").style.color = "green";
                    $('#messageinput').append("<b>Request has been cancelled successfully!</b>");
                    $("#LoadingImage").hide();
                    return $('#myModal').modal('show')
                }
                else{
                    $('#messageinput').empty();
                    document.getElementById("messageinput").style.color = "red";
                    $('#messageinput').append("<b>Request already sent!</b>");
                    $("#LoadingImage").hide();
                    return $('#myModal').modal('show')
                }

            },
            error: function (XMLHttpRequest, textStatus, errorThrown) {
            }


        } );
    });

    function pageReload(){
        $("#myRegularPopup").removeClass('PopUp-focus');
        if(pageLoad == true){
            pageLoad = false;
            location.reload();
        }
    }

    function OnDateChange(){
        $('.datepicker').hide();
    }

    function OnMonthDateChange() {
        $('.datepicker').hide();
        var datio_val = $('#date_month').val();
        var table = $('#NoShowTransportGrid').DataTable();
        table.clear().draw();
        if (datio_val != "") {
            if (month_NoshowFlag == true) {
                month_NoshowFlag = false;
                var months = {
                    jan: 0, feb: 1, mar: 2, apr: 3, may: 4, jun: 5,
                    jul: 6, aug: 7, sep: 8, oct: 9, nov: 10, dec: 11
                };
                var p = datio_val.split('-');
                month_FromDate = new Date(p[1], months[p[0].toLowerCase()], 1);
                month_ToDate = new Date(p[1], months[p[0].toLowerCase()] + 1, 0);

                var day = month_FromDate.getDate();
                var month = month_FromDate.getMonth() + 1;
                var year = month_FromDate.getFullYear();
                month_FromDate = month + "/" + day + "/" + year;

                var day_to = month_ToDate.getDate();
                var month_to = month_ToDate.getMonth() + 1;
                var year_to = month_ToDate.getFullYear();
                month_ToDate = month_to + "/" + day_to + "/" + year_to;

                $.ajaxSetup({ async: true })
                $.ajaxSetup({ cache: false })
                $.ajax({
                    url: '/CancelTransportRequest/getNoShows',
                    type: 'POST',
                    async: true,

                    data: { "from": month_FromDate, "to": month_ToDate },
                    success: function (data) {
                        noShowDetails = data;
                        loadNoshows(noShowDetails);
                    },
                    error: function (XMLHttpRequest, textStatus, errorThrown) {
                    }


                });
            }

        }

    }

    function loadNoshows(noShowDetails) {
        var table = $('#NoShowTransportGrid').DataTable({
            "aaSorting": [],
            "aaData": noShowDetails,
            destroy: true,

            "columns": [

                {
                    "width": "20%", "data": "TravelDate", "mRender": function (data, type, full) {
                        if (data != null) {
                            var date = moment(data);
                            var today = new Date();
                            var offset = today.getTimezoneOffset();
                            var proddate = new Date(new Date(date._d) - (offset * 60000));
                            var findate = moment(proddate).format('DD-MMM-YYYY');
                            return findate;
                        }
                        else {
                            return "-";
                        }
                        //return data;
                    }
                },

                {
                    "width": "20%", "data": "ShiftTimeStartName", "mRender": function (data, type, full) {
                        return data;
                    }
                },

                {
                    "width": "20%", "data": "RequestForName", "mRender": function (data, type, full) {
                        return data;

                    }
                },
                {
                    "width": "20%", "data": "RouteNumberName", "mRender": function (data, type, full) {
                        return data;
                    }
                },

                {
                    "width": "20%", "data": "TripSheetno", "mRender": function (data, type, full) {
                        return data;
                    }
                }

            ],
            dom: 'Bfrtip',
            lengthMenu: [
                    [10, 25, 50, 100, -1],
                    ['10', '25', '50', '100', 'Show all']
            ],
            buttons: [
                    'pageLength'
            ]
        });
    }

    function GetNoShowDetails() {
        var datio_val = $('#date_month').val();
        var table = $('#NoShowTransportGrid').DataTable();
        table.clear().draw();
        if (datio_val != "") {
            //if (month_NoshowFlag == true) {
                month_NoshowFlag = false;
                var months = {
                    jan: 0, feb: 1, mar: 2, apr: 3, may: 4, jun: 5,
                    jul: 6, aug: 7, sep: 8, oct: 9, nov: 10, dec: 11
                };
                var p = datio_val.split('-');
                month_FromDate = new Date(p[1], months[p[0].toLowerCase()], 1);
                month_ToDate = new Date(p[1], months[p[0].toLowerCase()] + 1, 0);

                var day = month_FromDate.getDate();
                var month = month_FromDate.getMonth() + 1;
                var year = month_FromDate.getFullYear();
                month_FromDate = month + "/" + day + "/" + year;

                var day_to = month_ToDate.getDate();
                var month_to = month_ToDate.getMonth() + 1;
                var year_to = month_ToDate.getFullYear();
                month_ToDate = month_to + "/" + day_to + "/" + year_to;

                $.ajaxSetup({ async: true })
                $.ajaxSetup({ cache: false })
                $.ajax({
                    url: '/CancelTransportRequest/getNoShows',
                    type: 'POST',
                    async: true,

                    data: { "from": month_FromDate, "to": month_ToDate },
                    success: function (data) {
                        noShowDetails = data;
                        loadNoshows(noShowDetails);
                    },
                    error: function (XMLHttpRequest, textStatus, errorThrown) {
                    }


                });
            //}

        }

    }

</script>
<div id="LoadingImage" class="centered" style="display: none;">
    <img src="../../Content/images/loading-image.gif">
</div>
<div class="menubar">
    
    <div class="fright">
      <ul class="usermenu">
                    
                   
                        <li>
                             <a href="/">
                            <i class="fa fa-user" aria-hidden="true"></i>
                            <div>My Dashboard</div>
</a>
                        </li>
                    
                  
                        <li>
                              <a href="/PermanentRequest">
                            <i class="fa fa-car" aria-hidden="true"></i>
                            <div>Permanent Cab</div>
                                  </a>
                        </li>
                    
                   
                        <li>
                             <a href="/AdhocCabRequests">
                            <i class="fa fa-clock-o" aria-hidden="true"></i>
                            <div>Adhoc Request</div>
                                   </a>
                        </li>
                  
                   
                        <li class="selected">
                             <a href="/CancelTransportRequest">
                            <i class="fa fa-map-marker" aria-hidden="true"></i>
                            <div>My Trips</div>
                                  </a>
                        </li>
                   
                   
                        <li> <a href="/CabApproval">
                            <i class="fa fa-check-square-o" aria-hidden="true"></i>
                            <div>My Approvals</div>
                             </a>
                        </li>
                   
                   
                        <li> <a href="/FeedBack">
                            <i class="fa fa-comment" aria-hidden="true"></i>
                            <div>Feedback</div>
                             </a>
                        </li>
                    <li>
							<a href="http://wiki.flextronics.com/mediawiki/index.php/GoEasy_Help" target="_blank"><i class="fa fa-question" aria-hidden="true"></i>
							<div>Help</div></a>
						</li>
                   
</ul>
    </div>
</div>
<div class="content" style="margin-top:0;">
    
    <div class="contentbox">

        <ul class="nav nav-pills">
            <li class="active"><a data-toggle="pill" href="#active">Active Trips</a></li>
            <li><a data-toggle="pill" href="#cancel">Cancelled Trips</a></li>
            <li><a data-toggle="pill" href="#noshows">No shows</a></li>
        </ul>

        <div class="tab-content">
            <div id="active" class="tab-pane fade in active">
                <div id="CancelTransportGrid_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer"><div class="dt-buttons"><a class="dt-button buttons-collection buttons-page-length" tabindex="0" aria-controls="CancelTransportGrid"><span>Show 10 rows</span></a></div><div id="CancelTransportGrid_filter" class="dataTables_filter"><label>Search:<input type="search" class="form-control input-sm" placeholder="" aria-controls="CancelTransportGrid"></label></div><table id="CancelTransportGrid" class="table table-striped table-bordered dataTable no-footer" cellspacing="0" style="width: 100%;" role="grid" aria-describedby="CancelTransportGrid_info">
                    <thead>
                        <tr role="row"><th class="sorting" tabindex="0" aria-controls="CancelTransportGrid" rowspan="1" colspan="1" aria-label="Request Type: activate to sort column ascending" style="width: 206px;">Request Type</th><th class="sorting" tabindex="0" aria-controls="CancelTransportGrid" rowspan="1" colspan="1" aria-label="Date: activate to sort column ascending" style="width: 99px;">Date</th><th class="sorting" tabindex="0" aria-controls="CancelTransportGrid" rowspan="1" colspan="1" aria-label="Request For: activate to sort column ascending" style="width: 189px;">Request For</th><th class="sorting" tabindex="0" aria-controls="CancelTransportGrid" rowspan="1" colspan="1" aria-label="Shift Time: activate to sort column ascending" style="width: 166px;">Shift Time</th><th class="sorting_disabled" rowspan="1" colspan="1" aria-label="Action" style="width: 169px;">Action</th></tr>
                    </thead>
                <tbody><tr role="row" class="odd"><td>Regular</td><td>-</td><td>Pickup and Drop</td><td>11:00 - 20:00</td><td><div class="iconbutton"><input type="button" style="padding:3px 10px;" id="cancelButton" value="Cancel"></div></td></tr></tbody></table><div class="dataTables_info" id="CancelTransportGrid_info" role="status" aria-live="polite">Showing 1 to 1 of 1 entries</div><div class="dataTables_paginate paging_simple_numbers" id="CancelTransportGrid_paginate"><ul class="pagination"><li class="paginate_button previous disabled" id="CancelTransportGrid_previous"><a href="#" aria-controls="CancelTransportGrid" data-dt-idx="0" tabindex="0">Previous</a></li><li class="paginate_button active"><a href="#" aria-controls="CancelTransportGrid" data-dt-idx="1" tabindex="0">1</a></li><li class="paginate_button next disabled" id="CancelTransportGrid_next"><a href="#" aria-controls="CancelTransportGrid" data-dt-idx="2" tabindex="0">Next</a></li></ul></div></div>
            </div>
            <div id="cancel" class="tab-pane fade">
                <div id="CancelledTransportGrid_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer"><div class="dt-buttons"><a class="dt-button buttons-collection buttons-page-length" tabindex="0" aria-controls="CancelledTransportGrid"><span>Show 10 rows</span></a></div><div id="CancelledTransportGrid_filter" class="dataTables_filter"><label>Search:<input type="search" class="form-control input-sm" placeholder="" aria-controls="CancelledTransportGrid"></label></div><table id="CancelledTransportGrid" class="table table-striped table-bordered dataTable no-footer" cellspacing="0" style="width: 100%;" role="grid" aria-describedby="CancelledTransportGrid_info">
                    <thead>
                        <tr role="row"><th class="sorting" tabindex="0" aria-controls="CancelledTransportGrid" rowspan="1" colspan="1" style="width: 0px;" aria-label="Request Type: activate to sort column ascending">Request Type</th><th class="sorting" tabindex="0" aria-controls="CancelledTransportGrid" rowspan="1" colspan="1" style="width: 0px;" aria-label="From Date: activate to sort column ascending">From Date</th><th class="sorting" tabindex="0" aria-controls="CancelledTransportGrid" rowspan="1" colspan="1" style="width: 0px;" aria-label="To Date: activate to sort column ascending">To Date</th><th class="sorting" tabindex="0" aria-controls="CancelledTransportGrid" rowspan="1" colspan="1" style="width: 0px;" aria-label="Shift Time: activate to sort column ascending">Shift Time</th><th class="sorting" tabindex="0" aria-controls="CancelledTransportGrid" rowspan="1" colspan="1" style="width: 0px;" aria-label="Request For: activate to sort column ascending">Request For</th></tr>
                    </thead>
                <tbody><tr class="odd"><td valign="top" colspan="5" class="dataTables_empty">No data available in table</td></tr></tbody></table><div class="dataTables_info" id="CancelledTransportGrid_info" role="status" aria-live="polite">Showing 0 to 0 of 0 entries</div><div class="dataTables_paginate paging_simple_numbers" id="CancelledTransportGrid_paginate"><ul class="pagination"><li class="paginate_button previous disabled" id="CancelledTransportGrid_previous"><a href="#" aria-controls="CancelledTransportGrid" data-dt-idx="0" tabindex="0">Previous</a></li><li class="paginate_button next disabled" id="CancelledTransportGrid_next"><a href="#" aria-controls="CancelledTransportGrid" data-dt-idx="1" tabindex="0">Next</a></li></ul></div></div>
            </div>
            <div id="noshows" class="tab-pane fade">
                <div style="width:400px; margin:auto; margin-bottom:10px;">
                    <div class="row">
                        <div class="col-sm-4">
                            <label for="date" id="fromDateLbl">Select Month</label>
                        </div>
                        <div class="col-sm-4">
                            <div class="form-group" style="margin-bottom:0;">
                                <input type="text" class="form-control " id="date_month" data-date-format="dd-M-yyyy" onchange="OnMonthDateChange();">
                            </div>
                        </div>

                        <div class="fright">
                            <div class="iconbutton">
                                <input type="button" value="Get Details" onclick="GetNoShowDetails();">
                            </div>
                        </div>
                    </div>

                </div>
                
                <div id="NoShowTransportGrid_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer"><div class="dt-buttons"><a class="dt-button buttons-collection buttons-page-length" tabindex="0" aria-controls="NoShowTransportGrid"><span>Show 10 rows</span></a></div><div id="NoShowTransportGrid_filter" class="dataTables_filter"><label>Search:<input type="search" class="form-control input-sm" placeholder="" aria-controls="NoShowTransportGrid"></label></div><table id="NoShowTransportGrid" class="table table-striped table-bordered no-footer dataTable" cellspacing="0" style="width: 100%;" role="grid" aria-describedby="NoShowTransportGrid_info">
                    <thead>
                        <tr role="row"><th style="width: 0px;" class="sorting" tabindex="0" aria-controls="NoShowTransportGrid" rowspan="1" colspan="1" aria-label="Date: activate to sort column ascending">Date</th><th style="width: 0px;" class="sorting" tabindex="0" aria-controls="NoShowTransportGrid" rowspan="1" colspan="1" aria-label="Shift: activate to sort column ascending">Shift</th><th style="width: 0px;" class="sorting" tabindex="0" aria-controls="NoShowTransportGrid" rowspan="1" colspan="1" aria-label="Pickup/Drop: activate to sort column ascending">Pickup/Drop</th><th style="width: 0px;" class="sorting" tabindex="0" aria-controls="NoShowTransportGrid" rowspan="1" colspan="1" aria-label="Route Number: activate to sort column ascending">Route Number</th><th style="width: 0px;" class="sorting" tabindex="0" aria-controls="NoShowTransportGrid" rowspan="1" colspan="1" aria-label="Trip Sheet No.: activate to sort column ascending">Trip Sheet No.</th></tr>
                    </thead>
                <tbody><tr class="odd"><td valign="top" colspan="5" class="dataTables_empty">No data available in table</td></tr></tbody></table><div class="dataTables_info" id="NoShowTransportGrid_info" role="status" aria-live="polite">Showing 0 to 0 of 0 entries</div><div class="dataTables_paginate paging_simple_numbers" id="NoShowTransportGrid_paginate"><ul class="pagination"><li class="paginate_button previous disabled" id="NoShowTransportGrid_previous"><a href="#" aria-controls="NoShowTransportGrid" data-dt-idx="0" tabindex="0">Previous</a></li><li class="paginate_button next disabled" id="NoShowTransportGrid_next"><a href="#" aria-controls="NoShowTransportGrid" data-dt-idx="1" tabindex="0">Next</a></li></ul></div></div>
            </div>

        </div>

        <div class="clear"></div>

        
        
    </div>
</div>

<div class="modal fade" id="myModal" role="dialog" data-backdrop="static" data-keyboard="false" data-toggle="modal">
    <div class="modal-dialog modal-sm">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" onclick="pageReload();" data-dismiss="modal"></button>
                <h4 class="modal-title">Flex Transport</h4>
            </div>
            <div class="modal-body">
                <p id="messageinput" style="color:red;"></p>
            </div>
            <div class="modal-footer">
                <div class="fright">

                    <div class="iconbutton">
                        <input type="button" id="myBtn" data-dismiss="modal" value="OK" onclick="pageReload();">
                    </div>
                </div>

            </div>
        </div>

    </div>
</div>

<div class="modal fade" id="myAlertModal" role="dialog" data-backdrop="static" data-keyboard="false" data-toggle="modal">
    <div class="modal-dialog modal-sm">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"></button>
                <h4 class="modal-title">Flex Transport</h4>
            </div>
            <div class="modal-body">
                <p id="newmessageinput" style="color:inherit;"></p>
            </div>
            <div class="modal-footer">
                <div class="fright">
                    <div class="iconbutton">
                        <input type="button" id="myBtnYes" data-dismiss="modal" value="Yes">
                    </div>
                    <div class="iconbutton">
                        <input type="button" id="myBtnNo" data-dismiss="modal" value="No">
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<div class="modal fade" id="myRegularPopup" role="dialog" data-backdrop="static" data-keyboard="false" data-toggle="modal">
    <div class="modal-dialog modal-sm">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"></button>
                <h4 class="modal-title">Cancel My Trip - Regular Cab</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="form-group">
                            <label for="date">From Date</label>
                            
                                    <input type="text" class="form-control " id="regularfromdate" data-date-format="dd-M-yyyy" onchange="OnDateChange();" onkeydown="return false">
                                
                        </div>
                    </div>
                    <div class="col-sm-12">
                        <div class="form-group">
                            <label for="date">To Date</label>
                            <input type="text" class="form-control " id="regulartodate" data-date-format="dd-M-yyyy" onchange="OnDateChange();" onkeydown="return false">
                        </div>
                    </div>
                    <div class="col-sm-12">
                        <div class="form-group">
                            <label for="reqfor">Request For</label>
                            <select class="form-control" id="ddlRequestFor" name="ddlRequestFor"><option value="">Please select</option>
<option value="1">Pickup and Drop</option><option value="2">Pickup</option><option value="3">Drop</option></select>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <div class="fright">
                    <div class="iconbutton">
                        <input type="button" id="myBtnSave" value="Save">
                    </div>
                    <div class="iconbutton">
                        <input type="button" data-dismiss="modal" id="myBtnClose" value="Close">
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

        <div class="footer">
            Copyright . Flex. All Right Reserved.
            <span class="fright">Emergency contact  : 1302 / 9797 (Voip)</span>
        </div>
    </div>
    
    <div id="divMLoad" class="centered" style="display: none;">
        <img src="../../Content/images/loading-image.gif">
    </div>
    <script type="text/javascript">
        $(document).ready(function () {
            $('#example').DataTable({
                "scrollY": "300px",
                "scrollCollapse": true
            });
            $("#menubtn").hover(function () {
                $('.menubox').show();
            });
            $('.menubox').mouseenter(function () {
                $('.menubox').show();
            }).mouseleave(function () {
                $('.menubox').hide();
            });
            $(".menuicons").click(function () {
                $('.menubox').hide();
            });
            $("#usersetting").click(function () {
                $('.settingbox').fadeToggle();
            });
            $(document).on("click", function (event) {
                var $trigger = $('.menubox');
                if ($trigger !== event.target && !$trigger.has(event.target).length) {
                    $('.menubox').hide();
                }
            });
            //var winheight = $(window).height();
            //var topheader = $('.topheader').height();
            //var footer = $('.footer').height();
            //$('.rightcolumn').css('height', winheight - (topheader +  footer +20) + 'px');
            //$(".leftcolumn .contentbox").css("height", winheight - (topheader +  footer +20) + 'px');
        });

        $("#menubtn").hover(function () {
            $('.adminmenubox').show();
        });
        $('.menubox').mouseenter(function () {
            $('.adminmenubox').show();
        }).mouseleave(function () {
            $('.adminmenubox').hide();
        });
        $(".menuicons").click(function () {
            $('.adminmenubox').hide();
        });
        $('#fromdate').datepicker();
        $('#todate').datepicker();

        //$("#usersetting").click(function () {
        //    $('.settingbox').fadeToggle();
        //});
        $(document).on("click", function (event) {
            var $trigger = $('.adminmenubox');
            if ($trigger !== event.target && !$trigger.has(event.target).length) {
                $('.adminmenubox').hide();
            }
        });

    </script>

</body>